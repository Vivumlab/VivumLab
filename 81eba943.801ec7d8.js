(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{153:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return b})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return c}));var r=n(3),o=n(7),a=(n(0),n(232)),i={id:"commands",title:"Vivumlab Commands",hide_title:!0,hide_table_of_contents:!1,sidebar_label:"Commands",custom_edit_url:"https://github.com/VivumLab/VivumLab/issues/new?template=documentation.md"},b={unversionedId:"core/commands",id:"core/commands",isDocsHomePage:!1,title:"Vivumlab Commands",description:"Vivumlab Commands",source:"@site/docs/core/Commands.md",slug:"/core/commands",permalink:"/docs/core/commands",editUrl:"https://github.com/VivumLab/VivumLab/issues/new?template=documentation.md",version:"current",sidebar_label:"Commands",sidebar:"docs",previous:{title:"Cloud Bastion Server",permalink:"/docs/core/bastion"},next:{title:"How VivumLab uses Storage",permalink:"/docs/core/storage"}},l=[{value:"Core Commands:",id:"core-commands",children:[]},{value:"Service Commands",id:"service-commands",children:[]},{value:"Command Options",id:"command-options",children:[]}],s={rightToc:l};function c(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"vivumlab-commands"},"Vivumlab Commands"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab -t"))," will list all available commands.\n",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab -h COMMAND"))," will show help info for the specified command, eg. ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab -h config"))),Object(a.b)("h2",{id:"core-commands"},"Core Commands:"),Object(a.b)("p",null,"These commands will check or make changes to the core of VivumLab.\nFor service specific commands, scroll down or click ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"#service-commands"}),"here")),Object(a.b)("h4",{id:"create_base-under-construction"},"create_base ",Object(a.b)("strong",{parentName:"h4"},"UNDER CONSTRUCTION")),Object(a.b)("p",null,"Installs necessary dependencies on the remote server.\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab create_base")),"\nNOTE: Only run this if the server itself is not set up.\neg. Python, Git, and other necessary programs aren't installed"),Object(a.b)("h4",{id:"config"},"config"),Object(a.b)("p",null,"Creates or Updates the config file as necessary.\nOptions: build, debug, force\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab config"))),Object(a.b)("h4",{id:"config_reset"},"config_reset"),Object(a.b)("p",null,"Resets the Configuration\nOptions: build, force\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab config_reset"))),Object(a.b)("h4",{id:"deploy"},"deploy"),Object(a.b)("p",null,"deploys Vivumlab, useful when a server refresh is needed.\nOptions: build, cache, debug, force\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab deploy"))),Object(a.b)("h4",{id:"restart"},"restart"),Object(a.b)("p",null,"Restart all enabled services.\nOptions: build, debug, force\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab restart"))),Object(a.b)("h4",{id:"stop"},"stop"),Object(a.b)("p",null,"Restart all enabled services\nOptions: build, debug, force\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab stop"))),Object(a.b)("h4",{id:"terraform"},"terraform"),Object(a.b)("p",null,"Spin up a cloud server with Terraform.\nOptions: build, debug, force\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab terraform"))),Object(a.b)("h4",{id:"terraform_destroy"},"terraform_destroy"),Object(a.b)("p",null,"Destroys servers created by terraform.\nOptions: none\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab terraform_destroy"))),Object(a.b)("h4",{id:"update"},"update"),Object(a.b)("p",null,"Updates all services on the Vivumlab Server.\nOptions: build, debug, force\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab update"))),Object(a.b)("h4",{id:"build"},"build"),Object(a.b)("p",null,"Builds the Docker Image used to deploy\nOptions: build, debug, force\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab build"))),Object(a.b)("h4",{id:"git_sync-under-construction"},"git_sync ",Object(a.b)("strong",{parentName:"h4"},"UNDER CONSTRUCTION")),Object(a.b)("p",null,"Manually forces a settings sync via git.\nOptions: none\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab git_sync"))),Object(a.b)("h4",{id:"encrypt"},"encrypt"),Object(a.b)("p",null,"Encrypts the vault.\nOptions: none\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab encrypt"))),Object(a.b)("h4",{id:"decrypt"},"decrypt"),Object(a.b)("p",null,"Decrypts the vault\nOptions: none\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab decrypt"))),Object(a.b)("h4",{id:"uninstall"},"uninstall"),Object(a.b)("p",null,"Uninstalls Vivumlab.\nOptions: build, debug, force\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab uninstall"))),Object(a.b)("h4",{id:"restore-under-construction"},"restore ",Object(a.b)("strong",{parentName:"h4"},"UNDER CONSTRUCTION")),Object(a.b)("p",null,"Restore a server from backups. Assuming backups were running\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab restore"))),Object(a.b)("h4",{id:"shell"},"shell"),Object(a.b)("p",null,"Opens a shell on the remote server.\nOptions: none\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab shell"))),Object(a.b)("h4",{id:"docker_shell"},"docker_shell"),Object(a.b)("p",null,"Opens a shell in the VivumLab deploy container.\nOptions: none\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab docker_shell")),"\nNOTE: You will not be able to exit out of the docker container.\nNOTE: If you wanted to access outside the container, use the shell command"),Object(a.b)("h4",{id:"create_sshkey"},"create_sshkey"),Object(a.b)("p",null,"Creates an SSH Key, based on the name provided by the user when ",Object(a.b)("inlineCode",{parentName:"p"},"vlab config")," was run.\nOptions: build, debug, force\nexample ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab create_sshkey")),"\nNOTE: Will ask for a password. Will still work, even if you do not provide one."),Object(a.b)("h4",{id:"show_config"},"show_config"),Object(a.b)("p",null,"Shows the configuration settings for the specified service.\nOptions: none\nexample (jellyfin): ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab show_config service=jellyfin"))),Object(a.b)("h4",{id:"set"},"set"),Object(a.b)("p",null,"Set a configuration variable\nOptions: none\nexamples:\n(enabling Jellyfin): ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab set jellyfin.enable=true")),"\n(setup Vivumlab for an Arm Arcitecture) ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab set arm=true")),"\n(change the default_password): ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab set vault.default_password=S0m3C00lP@s$word")),"\n(changing the CloudFlare API email) ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab set vault.traefik.additional_env_vars.CF_API_EMAIL=your@email.com"))),Object(a.b)("h4",{id:"track"},"track"),Object(a.b)("p",null,"Switches you to the specified branch or tag.\nOptions: branch\nexamples\n(branch): ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab track branch=master")),"\n(tag): ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab track tag=v0.0.1"))),Object(a.b)("h4",{id:"check_version"},"check_version"),Object(a.b)("p",null,"Checks the current version.\nOptions: none\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab version"))),Object(a.b)("h4",{id:"install_cli"},"install_cli"),Object(a.b)("p",null,"Links the vlab cli into /usr/local/bin so you can call vlab without the ./\nOptions: none\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"./vlab install_cli"))),Object(a.b)("h4",{id:"service_edit"},"service_edit"),Object(a.b)("p",null,"Allows the user to make changes to the way a specified service is deployed, without making changes to the core/provided files. See ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"Getting-Started"}),"Getting-Started")," for more information.\nOptions: debug, service\nexample (editing Jellyfin): ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab service_edit service=jellyfin"))),Object(a.b)("h4",{id:"reboot"},"reboot"),Object(a.b)("p",null,"Allows the user to reboot the server.\nOptions: none\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab reboot"))),Object(a.b)("h4",{id:"shutdown"},"shutdown"),Object(a.b)("p",null,"Allows the user to shutdown the server.\nOptions: none\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab shutdown"))),Object(a.b)("h4",{id:"find_help"},"find_help"),Object(a.b)("p",null,"Tells the user where to find help/ contact the VivumLab Community.\nOptions: none\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab find_help"))),Object(a.b)("h2",{id:"service-commands"},"Service Commands"),Object(a.b)("p",null,"These are specific to the service declared in the command. These commands should not affect any other service; unless the running of the service depends on another, eg. Authelia."),Object(a.b)("h4",{id:"show"},"show"),Object(a.b)("p",null,"Presents the specified services documentation, in the terminal.\nOptions: service\nexample (showing Jellyfin): ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab show service=jellyfin"))),Object(a.b)("h4",{id:"restart_one"},"restart_one"),Object(a.b)("p",null,"Restarts the specified service\nOptions: debug, service\nexample (restarting Jellyfin): ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab restart_one service=jellyfin"))),Object(a.b)("h4",{id:"update_one"},"update_one"),Object(a.b)("p",null,"Updates the specified service on the Vivumlab server.\nOptions: build, debug, force, service\nexample (updating jellyfin): ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab update_one service=jellyfin"))),Object(a.b)("h4",{id:"stop_one"},"stop_one"),Object(a.b)("p",null,"Restarts the specified service.\nOptions: build, debug, force, service\nexample (stopping Jellyfin): ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab stop_one service=jellyfin"))),Object(a.b)("h4",{id:"remove_one"},"remove_one"),Object(a.b)("p",null,"Removes the specified service on the Vivumlab server.\nOptions: build, debug, force, service\nexample (removing Jellyfin): ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab remove_one service=jellyfin"))),Object(a.b)("h4",{id:"reset_one"},"reset_one"),Object(a.b)("p",null,"Resets the specified service' files on the Vivumlab server.\nOptions: build, debug, force, service\nexample (resetting Jellyfin): ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab reset_one service=jellyfin"))),Object(a.b)("h2",{id:"command-options"},"Command Options"),Object(a.b)("p",null,"These options are available for most commands. See below for further explanations.\nNOTE: Setting the option to false (eg. build=false) has the same effect as omitting the option entirely."),Object(a.b)("h4",{id:"build-1"},"build"),Object(a.b)("p",null,"This option allows VivumLab to build the vivumlab docker image, instead of pulling the completed image from docker hub. This is useful if the user wants to make their own changes to the docker image or if the network has lost internet connectivity, temporarily.\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab deploy build=true"))),Object(a.b)("h4",{id:"debug"},"debug"),Object(a.b)("p",null,"This option allows VivumLab to provide debug output for any ansible commands used. This option has multiple options, depending on verbose the user desires the output to be. There are 3 options in total: super, high, and low. Super is the most verbose, and low is the least verbose; no one option may contain all the required information when debugging, so try all necessary levels.\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab deploy debug=super"))),Object(a.b)("h4",{id:"force"},"force"),Object(a.b)("p",null,"This option forces VivumLab to delete, then repull or rebuild (if used with build=true) the vivumlab docker image; force will still work if the image does not exist previously.\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab deploy force=true"))),Object(a.b)("h4",{id:"cache"},"cache"),Object(a.b)("p",null,"This option allows VivumLab to use any existing cached images/files when building the vivumlab docker image. The cache option will be ignored if the build option is not used.\nexample: ",Object(a.b)("strong",{parentName:"p"},Object(a.b)("inlineCode",{parentName:"strong"},"vlab deploy build=true cache=true"))))}c.isMDXComponent=!0},232:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return u}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=o.a.createContext({}),c=function(e){var t=o.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):b(b({},t),e)),n},p=function(e){var t=c(e.components);return o.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},m=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=c(n),m=r,u=p["".concat(i,".").concat(m)]||p[m]||d[m]||a;return n?o.a.createElement(u,b(b({ref:t},s),{},{components:n})):o.a.createElement(u,b({ref:t},s))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=m;var b={};for(var l in t)hasOwnProperty.call(t,l)&&(b[l]=t[l]);b.originalType=e,b.mdxType="string"==typeof e?e:r,i[1]=b;for(var s=2;s<a;s++)i[s]=n[s];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);